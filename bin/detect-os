#!/bin/bash

. /etc/os-release

ret=

removeQuotes() {
    temp=$1
    temp="${temp%\"}"
    temp="${temp#\"}"
    ret="${temp}"
}

removeQuotes "$ID"
os_id=$ret
removeQuotes "$PRETTY_NAME"
os_pname=$ret
removeQuotes "$VERSION_ID"
os_version=$ret
removeQuotes "$VERSION_CODENAME"
os_codename=$ret

echo "ID:            ${os_id}"
echo "Name:          ${os_pname}"
echo "Version:       ${os_version}"
echo "Codename:      ${os_codename}"

case ${os_id} in
    debian)
        os_name=debian
        case ${os_version} in
            *)
                os_conf=debian
                ;;
        esac
        ;;
    ubuntu)
        os_name=ubuntu
        case ${os_version} in
            *)
                os_conf=ubuntu
                ;;
        esac
        ;;
    fedora)
        os_name=fedora
        case ${os_version} in
            *)
                os_conf=fedora
                ;;
        esac
        ;;
    raspbian)
        os_name=raspbian
        case ${os_version} in
            8)
                os_conf=raspbian-8
                ;;
            9)
                os_conf=raspbian-9
                ;;
            10)
                os_conf=raspbian-10
                ;;
            11)
                os_conf=raspbian-11
                ;;
            *)
                os_conf=raspbian
                ;;
        esac
        ;;
    *)
        os_name=linux
        os_conf=linux
        ;;
esac

echo "Name / Config: ${os_name} / ${os_conf}"
